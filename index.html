<!doctype html>  
<html lang="en">
	
	<head>
		<meta charset="utf-8">
		
		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		
		<link href='http://fonts.googleapis.com/css?family=Ranchers|McLaren' rel='stylesheet' type='text/css' />
		
		<link rel="stylesheet" href="css/main.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<script>
			// If the query includes 'print-pdf' we'll use the PDF print sheet
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	
	<body>
		
		<div class="reveal">

			<!-- Used to fade in a background when a specific slide state is reached -->
			<div class="state-background"></div>
			
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Javascript aux petits oignions</h1>
					<img src="imgs/js-logo.png" height="200" width="200">
				</section>
				<section>
					<h1>Lexique</h1>
					<table>
						<tr>
							<td>DOM</td><td>presents an HTML document as a tree-structure.</td>
							<td>CSS</td><td>Cascading Stylesheet</td>
						</td>
					</table>
				</section>
				<!-- Part I -->
				<section>
					<section>
						<h1>I. Le constat</h1>
						<img src="imgs/constat/decharge.jpg">
					</section>
					<section>
						<h2>Quick and dirt cookbook</h2>
						<p>La technique du copy/paste</p>
						<img src="imgs/constat/oldbook.jpg" />
					</section>
					<section>
					<h2>Quelques exemples de bon code JS</h2>
<pre>
<code contenteditable class="javascript">
						
     function hello(what) {
         what = "world";
         return "Hello, " + arguments[0] + "!";
     }
    > hello("shazow")
    "Hello, world!"
	</code>
</pre>
	<pre>
<code contenteditable class="javascript">	
 0 === -0        //true
 1/0 === 1/-0    //false
</code>
</pre>
<pre>
<code contenteditable class="javascript">

9999999999999999
//=> 10000000000000000

</code>
</pre>
					</section>
					<section>
						<h2>Côté serveur tout est ok</h2>
							<ul>
								<li>Convention de nommage</li>
								<li>Organisation du code</li>
								<li>Best practices</li>
								<li>Design pattern</li>
								<li>Tests unitaire</li>
								<li>Code coverage</li>
							</ul>
					</section>
					<section>
						<h2>Et côté client ?</h2>
							<img src="imgs/constat/pray.jpg"/>
					</section>
					<section>
						<h2>Et côté client ?</h2>
							<ul>
								<li>Des librairies se telescopent</li>
								<li>Code non testé</li>
								<li>Tout est chargé partout (et n'importe comment)</li>
								<li>Code spécifique pour un navigateur</li>
							</ul>
					</section>
					<section>
						<h2>Et côté client ?</h2>
							<ul>
								<li>Qui a déjà débuggué du code JS ?</li>
								<li>Qui a déjà réutilisé son code JS ?</li>
							</ul>
							<p class="fragment">
								<img src="imgs/constat/possimpible.jpg"/>
							</p>
					</section>
				</section>

				<!-- Part 2 -->
				<section>
					<section>
						<h1>II. Retrospective</h1>
						<h2>Comment en est-on arrivé là?</h2>
					</section>
					<section>
						<h1>La théorie du barbue</h1>
					</section>
					<section>
						<div class="fragment">
							<h3>John McCarthy</h3>
							<p>LISP - 1958</p>
						</div>
						<img src="imgs/beard/1958_lisp_mccarthy.png" />
					</section>
					<section>
						<div class="fragment">
							<h3>Dennis Richie</h3>
							<p>C - 1973</p>
						</div>
						<img src="imgs/beard/1973_c_ritchie.png" />
					</section>
					<section>
						<div class="fragment">
							<h3>Bjarne Stroustrup</h3>
							<p>C++ - 1983</p>
						</div>
						<img src="imgs/beard/1983_cpp_sroutstrup.png" />
					</section>
					<section>
						<div class="fragment">
							<h3>Guido van Rossum</h3>
							<p>Python - 1991</p>
						</div>
						<img src="imgs/beard/1991_python_vanrossum.png" />
					</section>
					<section>
						<div class="fragment">
							<h3>James Gosling</h3>
							<p>Java - 1995</p>
						</div>
						<img src="imgs/beard/1995_java_gosling.png" />
					</section>
					<section>
						<img src="imgs/beard/others.png" />
					</section>
					<section>
						<h2>And Javascript...</h2>
					</section>
					<section>
						<h3>Brendan Eich</h3>
						<p>Javascript - 1995</p>
						<img src="imgs/beard/1995_js_brendan_eich.png" />
						<h3 class="fragment">WTF!</h3>
					</section>
					<section>
						<h2>Est-ce la seule explication?</h2>
					</section>
					<section>
						<h3>Bonus</h3>
						<div class="fragment">
							<h3>Martin Odersky</h3>
							<p>Scala - 2003</p>
						</div>
						<img src="imgs/beard/martin.jpg" />
					</section>
				</section>
				<section>
					<section>
						<h1>Retour sur le langage</h1>
					</section>
					<section>	
						<h2>Il faut tout de même le dire:</h2>
						<img src="imgs/javajavascript.png" alt="java+script" />
					</section>
					<section>
						<blockquote>JavaScript (sometimes abbreviated JS) is a <strong>prototype-based scripting language</strong> that is dynamic, weakly typed and has first-class functions. It is a multi-paradigm language, supporting <strong>object-oriented</strong>, <strong>imperative</strong>, and <strong>functional</strong> programming styles.</blockquote>
						<small>Source : Wikipédia</small>
					</section>
					<section>
						<h3>Les moteurs</h3>
						<table class="fragment">
							<thead>
								<tr>
									<th></th>
									<th>Naviguateur</th>
									<th>Hors Naviguateur</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>V8</td>
									<td>Chrome</td>
									<td>Node.js</td>
								</tr>
								<tr>
									<td>SpiderMonkey</td>
									<td>Netscape</td>
									<td>-</td>
								</tr>
								<tr>
									<td>JägerMonkey</td>
									<td>Firefox</td>
									<td>-</td>
								</tr>
								<tr>
									<td>Nitro</td>
									<td>Safari</td>
									<td>-</td>
								</tr>
								<tr>
									<td>Rhino</td>
									<td>-</td>
									<td>JVM</td>
								</tr>
								<tr>
									<td>Chakra</td>
									<td>IE9</td>
									<td>MSHTML.dll ?</td>
								</tr>
							</tbody>
						</table>
					</section>
					<section>
						<h2>Historique</h2>
					</section>
					<section>
						<h2>Modèle objet</h2>
						<ul>
							<li>Tout est objet sauf <i>null</i> et undefined</li>
							<li>Les nombres sont aussi des objets mais attention:
									<pre><code contenteditable>
2.toString();	//raises SyntaxError
									</code></pre>
									<pre class="fragment"><code contenteditable>
 2..toString();
(2).toString();
 2 .toString();
								</code></pre>
							</li>
						</ul>
					</section>
					<section>
						<h3>JavaScript Object Notation</h3>
						<img src="imgs/json.png" />
	                                        <pre><code contenteditable>
var a = {};	// == var a = new Object(); 
						</code></pre>
						<pre><code contenteditable>
var myObject = {
	foo : true,		// != myObject.prototype.foo
	bar : 'baz',
	'case' : 1,
	init : function(param){
		return param || null;
	}
};
						</code></pre>
					</section>
					<section>
						<h3>Prototype</h3>
						<ul>
							<li>Modèle objet sans classes!</li>
							<li>Chaque objet a un prototype</li>
							<li>Les membres du prototypes sont propres à l'instance <spab class="inline-code">hasOwnProperty()</span></li>
							<li>Le prototype est mutable</li>
							<li>L'héritage se fait via une chaine de prototype uniquement</li>
							<li>Plus souple que les classes</li>
							<li>Un prototype peut être vu comme un exemplaire modèle d'une famille d'objet</li>
						</ul>
					</section>
					<section>
						<h4>A simple object</h4>
						<pre><code contenteditable>
//constructor
var Person = function(firstName, lastName) {
  this.firstName = firstName;
  this.lastName = lastName;
}

//add a method to the prototype 
Person.prototype.toString = function() { return this.firstName + ' ' + this.lastName; }


						</code></pre>
					</section>
					<section>
						<h4>Prototype Chain - Inheritance</h4>
						<pre><code contenteditable>
var Person = {};
var Developer = function() {
	var F = function () {};	//create a fake object
	F.prototype = Person;	//assign Person's prototype to it
        return new F();		//return an instance of fake
};

Person.name = 'Resig';
Person.firstname = 'John';

var jr = new Developer();	
console.log(jr.name);		//Resig		
						</code></pre>
					</section>
					<section>
						<h4>Object.create since EcmaScript 5</h4>
                                                <pre><code contenteditable>
var a = {a: 1};
// a ---&gt; Object.prototype ---&gt; null
 
var b = Object.create(a);
// b ---&gt; a ---&gt; Object.prototype ---&gt; null
console.log(b.a); // 1 (inherited)
 
var c = Object.create(b);
// c ---&gt; b ---&gt; a ---&gt; Object.prototype ---&gt; null
 
var d = Object.create(null);
// d ---&gt; null
console.log(d.hasOwnProperty); // undefined, because d doesn't inherit from Object.prototype
						</code></pre>
					</section>
					<section>
						<h2>Scope</h2>
						<pre><code contenteditable>
function test(){
	a = 12;		//global
};
var a = -1;
test();
console.log(a); //12
						</code></pre>
					</section>
					<section>
                                                <h2>Scope</h2>
                                                <pre><code contenteditable>
function  test(){
	var a = 32;		//without var, hoising wont work
	function subTest(){
		a+= 1;		//hoising
	}
	subTest();
	console.log(a);	//33
}						
						</code></pre>
					</section>
					<section>
						<h2>Closures</h2>
					</section>
				</section>
				
			<!-- Part III -->
				<section>
					<section>
						<h1>III. Que faire ?</h1>
					</section>
					<section>
						<h3>Invisible JS!</h3>
						<ul>
							<li class="fragment">Coder en Java, compiler vers Javascript
								<div class="fragment">
									<img src="imgs/hide-js/gwt.png" /> 
									<img src="imgs/hide-js/vaadin.png" />
								</div>
							</li>
							<li class="fragment">Utiliser un framework de composants / templates
								<div class="fragment">
									<img src="imgs/hide-js/myfaces.png" />
									<img src="imgs/hide-js/richfaces.png" />
									<img src="imgs/hide-js/zk.png" />
								</div>
							</li>
							<li class="fragment">Utiliser une surcouche, un autre langage
								<div class="fragment">
									<img src="imgs/hide-js/coffeescript.png" />
									<img src="imgs/hide-js/dart.png" />
								</div>
							</li>
						</ul>
					</section>
					<section>
						<h3>Dive into JavaScript!</h3>
						<pre class="fragment"><code contenteditable>
(function(){
	'use strict';

	var developer = {
		skills : [
			{language : 'Java', 	level : 'guru'},
			{language : 'SQL', 	level : 'expert'},
			{language : 'XML', 	level : 'expert'},
			{language : 'C', 	level : 'padawan'},
			{language : 'Bash', 	level : 'padawan'}
		]
	};
	
	developer.bind('after.javascript-overview', function updateMind(){
		
		this.skills.push({
			language 	: 'javascript',
			level		: 'guru'
		});
		
	});
	
})();
						</code></pre>
					</section>
					<section>
						<h3>We need you!</h3>
						<img src="imgs/we_need_you.jpg" />
					</section>
				</section>
			
			<!-- Part IV -->
				<section>
					<section>
						<h1>IV. Utiliser un framework pour faire de la bonne tambouille</h1>
						
					</section>
					<section>
						<h2>Pourquoi utiliser un framework js ?</h2>
						<p>Le JavaScript est langage qui...</p>
						<ul>
							<li class="fragment">n'est pas complet</li>
							<li class="fragment">n'encourage pas aux bonnes pratiques</li>
							<li class="fragment">ne donne pas un cadre pour faciliter le développement propre</li>
						</ul>
						
					</section>
					<section>
						<h2>Pourquoi utiliser un framework js ?</h2>
						<p>Un framework JS fournit</p>
						<h3 class="fragment">
							un cadre pour le développement</h3>
						<div>
							<blockquote class="fragment">Et aussi un moyen d'éviter les fuites mémoires</blockquote>
						</div>
					</section>
					<section>
						<h2>Quelques (vieux) frameworks ?</h2>
						<ul>
							<li>Prototypes.js + scriptaculo.us</li>
							<li>YUI</li>
							<li>Dojo</li>
							<li>MooTools</li>
						</ul>
					</section>
					<section>
						<h2>L'incoutournable</h2>
						<img src="http://upload.wikimedia.org/wikipedia/fr/b/b3/Jquery-logo.png"/>
						<p><b>jQuery</b> is a fast and concise JavaScript Library that simplifies HTML document traversing, event handling, animating, and Ajax interactions for rapid web development.</p>
					</section>
					
					<section>
						<h2>Rapidement</h2>
						<p>Selecteur CSS</p>
<pre><code contenteditable class="javascript">						
$('.toto'); //selectionne tout les elements HTML ayant comme class "toto"
</code></pre>
						<p class="fragment">Utilisation</p>
<pre class="fragment"><code contenteditable class="javascript">						
$('.comment p').addClass("cursive");
</code></pre>
<pre class="fragment"><code contenteditable class="javascript">						
$('.comment').click(function() {
	$(this).hide();
});
</code></pre>	
<pre class="fragment"><code contenteditable class="javascript">						
$('div').children().append("&lt;li&gt;New list element&lt;/li&gt;");
</code></pre>	

						<p class="fragment">Plus compliqué ?</p>
					</section>				
					
					<section data-state="alert">
						<h2>Un peu plus compliqué</h2>
						<pre>
<code contenteditable class="javascript">						
$('form').submit(function() {
	$.post('ajax/test.html?'+$(this).serialize(), function(data) {
		$('.result').html(data);
	});
	return false;
});
</code></pre>
					</section>
					<section>
						<h3>jQuery in action</h3>
						<p>Essayons de faire ensemble une interface de selection d'images</p>
						<ul>
							<li class="fragment">En moins de 10 lignes de codes JS</li>
							<li class="fragment">Flexible</li>
							<li class="fragment">Reutilisable</li>
						</ul>
						<div>
						<a  class="fragment" href="demo/reuseDOM/example1.html" target="demo">Commençons</a>
						</div>
					</section>
					<section>
						<h3>Conclusion de ce petit exemple</h3>
						<ul>
							<li>HTML peut être considéré comme un modèle de donnée</li>
							<li>Seul la feuille de style CSS doit gérer la présentation</li>
							<li>Le JS peut être considéré comme un controlleur</li>
						</ul>
					</section>
					<section>
						<h2>Super heroic !</h2>
						<img src="http://angularjs.org/img/AngularJS-large.png"/>
						<p>HTML is great for declaring static documents, but it falters when we try to use it for declaring dynamic views in web-applications. AngularJS lets you extend HTML vocabulary for your application. The resulting environment is extraordinarily expressive, readable, and quick to develop.</p>
					</section>
					<section>
						<h2>AngularJS: create your own HTML tags</h2>
						
						<p>AngularJS permet de créer son propre langage de modélisation en étendant la syntaxe HTML pour rencontrer vos besoins.</p>

						<p>AngularJS respecte de près les règles du MVC (modèle, vue, contrôleur). Il y a de fait une synchronisation entre les données de 
						l'interface utilisateur et les objets JavaScript.</p>
					</section>
					<section>
					
					<pre>
<code contenteditable class="html">	
&lt;!doctype html&gt;
&lt;html ng-app="components"&gt;
  &lt;head&gt;
    &lt;script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"&gt;&lt;/script&gt;
    &lt;script src="components.js"&gt;&lt;/script&gt;
    &lt;script src="beers.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;tabs&gt;
      &lt;pane title="Localization"&gt;
        Date: {{ '2012-04-01' | date:'fullDate' }} &lt;br&gt;
        Currency: {{ 123456 | currency }} &lt;br&gt;
        Number: {{ 98765.4321 | number }} &lt;br&gt;
      &lt;/pane&gt;
      &lt;pane title="Pluralization"&gt;
        &lt;div ng-controller="BeerCounter"&gt;
          &lt;div ng-repeat="beerCount in beers"&gt;
            &lt;ng-pluralize count="beerCount" when="beerForms"&gt;&lt;/ng-pluralize&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/pane&gt;
    &lt;/tabs&gt;
  &lt;/body&gt;
&lt;/html&gt;					
</code></pre>
			</section>
		</section>
		<!-- Part VII -->
		<section>
			<section>
				<h1>VIII. Bonnes pratiques</h1>
				
			</section>
			<section>
				<h3>Use strict</h3>
				<pre>
<code contenteditable class="javascript">						
"use strict";

mistypedVaraible = 17; // throws a ReferenceError

var o = { p: 1, p: 2 }; // !!! syntax error

</code></pre>
				<ul>
					<li>Le mode strict change la syntaxe et le runtime JS</li>
				</ul>
			</section>
			<section>
				<h3>Pas de variables globales</h3>
				<ul>
					<li>Limiter la visibilité des variables en les incluants dans des scopes ou dans des objets globales</li>
				</ul>
			</section>
			<section>
				<h3>Nommer les fonctions anonymes</h3>
				<pre><code contenteditable class="javascript">						
var anonFunc = function anonFunc() {};

</code></pre>
				<ul>
					<li>Nommer les fonctions anonymes permet de tracer 	l'éxecution en cas d'erreur</li>
				</ul>
			</section>
			
			<section>
				<h3>Le JS n'est pas un langage OOP</h3>
				
				<ul>
					<li>Utiliser le prototypage</li>
					<li>N'hésitez pas à faire de la programmation fonctionnel</li>
				</ul>
				<pre class="fragment"><code contenteditable class="javascript">						
function forEach(array, action) {
  for (var i = 0; i < array.length; i++)
    action(array[i]);
}

forEach(["Wampeter", "Foma", "Granfalloon"], print);
</code></pre>
	<pre class="fragment"><code contenteditable class="javascript">						
function sum(numbers) {
  var total = 0;
  forEach(numbers, function (number) {
    total += number;
  });
  return total;
}
show(sum([1, 10, 100]));
</code></pre>
			</section>
		
			<!--Synatxe (cf. JSLint)
gestion des erreurs

opérateur de vérité
Utiliser les événements
Utiliser les callbacks pour l'asynchrone
Réfléchir en JS et non en OOP traditionnel-->
		
		
		</section>
			
		</div>	

			<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
			</aside>

			<!-- Presentation progress bar -->
			<div class="progress"><span></span></div>
			
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>
			
			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				
				theme: Reveal.getQueryHash().theme || 'default', // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/linear(2d)

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/highlight.js', async: true, callback: function() { window.hljs.initHighlightingOnLoad(); } },
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'lib/js/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'lib/js/data-markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '/socket.io/socket.io.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
					{ src: 'plugin/speakernotes/client.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
				]
			});
			
		</script>

	</body>
</html>
